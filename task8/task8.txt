
Задание 8.1.

Разработать TCP-сервер, реализующий команды записи и чтения строковых
значений из внутреннего словаря. Сервер должен последовательно обслуживать
неограниченное количество клиентских соединений. Сервер принимает соединения
на порте 10000.

Команды.
W <key> <data> - запись значения <data> в словарь по ключу <key>.
R <key> - чтение значения из словарь по ключу <key>.

Сервер:
$ ./lab8.1.py

Клиент 1:
$ nc -4 localhost 10000
W AAA 11111
W BBB 23434
W CCC 67667
R BBB
23434

Клиент 2:
$ nc -4 localhost 10000
R AAA
11111

Задание 8.2.

Разработать HTTP-сервер (RFC 2616), выполняющий функции калькулятора с
операторами сложения, вычитания, умножения и деления. Операнды передаются в
теле HTTP-запросов и хранятся в HTTP-ресурсах. Оператор задается через
специальный HTTP-заголовок. Результат вычислений передается в теле
HTTP-ответа. Сервер принимает соединения на порте 10000.

Поддерживаемые ресурсы и методы.
1. PUT для ресурсов /op1 и /op2 - задание операндов. Значения передаются в
теле запроса. По умолчанию операнды в сервере имеют значение 0.
2. GET для ресурсов /op1 и /op2 - чтение ранее заданных операндов. Значения
передаются в теле ответа.
3. POST для /calculate - вычисление результата. Тип операции задаются
опциональным заголовком HTTP "Operation" (возможные значения: "+", "-", "*",
"/"). По умолчанию (без заголовка) сервер выполняет сложение операндов.
Результат передается в теле ответа.
4. Все остальные методы для /op1, /op2 и /calculate - не поддерживаются.
Сервер возвращает код 405.
5. Все остальные ресурсы - не существуют. Сервер возвращает код 404.

Сервер:
$ ./lab8.2.py

Клиент:
$ curl -i -X GET
localhost:10000/AAA
HTTP/1.1 404 Not found

$ curl -i -X GET
localhost:10000/AAA
HTTP/1.1 404 Not found
Content-Length: 0

$ curl -i -X GET
localhost:10000/calculate
HTTP/1.1 405 Not allowed
Content-Length: 0

0
$ curl -i -X GET
localhost:10000/op1
HTTP/1.1 200 Ok
Content-Type: text/plain
Content-Length: 1

$ curl -i -X PUT
localhost:10000/op1 -d '3'
HTTP/1.1 200 Ok
Content-Length: 0

$ curl -i -X PUT
localhost:10000/op2 -d '5'
HTTP/1.1 200 Ok
Content-Length: 0

$ curl -i -X POST
localhost:10000/calculate -H "Operation: *"
HTTP/1.1 200 Ok
Content-Type: text/plain
Content-Length: 2

15
